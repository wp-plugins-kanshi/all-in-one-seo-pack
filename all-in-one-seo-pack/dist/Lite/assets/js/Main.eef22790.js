import{q as E,ao as q,j as ne,a5 as ie,a as H,l as X,g as Z}from"./index.ed1fc0db.js";import re from"./AnalyzeCompetitorSite.9fc0ba60.js";import{C as le}from"./Index.fdf08c2d.js";import ce from"./SeoHomepageAudit.7e359833.js";import{G as ue}from"./constants.fe8bda37.js";import{C as G}from"./Blur.0f162340.js";import{C as V}from"./Card.17b56f9a.js";import{C as de}from"./DonutChartWithLegend.c5183a2a.js";import{C as z}from"./Tooltip.447e44bb.js";import{C as pe}from"./Tabs.fefb55da.js";import{u as J}from"./WpTable.7dc1986e.js";import{_ as I}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as s,c as g,$ as d,ae as F,X as O,m as h,a2 as a,a as y,a7 as T,T as e,a4 as _,Z as M,g as me,a1 as f,a6 as N,a5 as ee,a3 as _e}from"./runtime-core.esm-bundler.4f558f23.js";import{S as ye}from"./Info.45394134.js";import"./translations.d159963e.js";import{_ as n,s as te}from"./default-i18n.20001971.js";import{C as se}from"./Table.4185d7c6.js";import{C as ge}from"./Button.e237bb50.js";import{a as oe,S as fe}from"./Pencil.b89246dd.js";import{S as he}from"./Information.2e3d122e.js";import{S as ae}from"./Trash.263ee9c7.js";import{S as ke}from"./Gear.2de185a5.js";import{w as W}from"./runtime-dom.esm-bundler.f6259c83.js";import{a as be}from"./allowed.8a9179cc.js";import{S as ve}from"./Caret.b694929e.js";import{a as Se}from"./utils.53e2e8da.js";import{C as xe}from"./Index.39bbd6c8.js";import Ae from"./HeadlineAnalyzer.12bc9210.js";import"./helpers.2a6f0df7.js";import"./ScrollTo.81bea8a7.js";import"./SeoSiteScore.88af9c09.js";import"./Score.3a9af10d.js";import"./popup.92105c51.js";import"./params.af7ed354.js";import"./ConnectStore.d1323f77.js";import"./SetupWizardStore.8024d915.js";import"./iphone-frame.d837f811.js";import"./GoogleSearchPreview.9c280f08.js";import"./Url.5bd27f81.js";import"./Slide.3e3dec13.js";import"./Refresh.1ce2962b.js";import"./Close.8fb798f7.js";import"./DonutChart.a3a9bd2d.js";import"./AnimatedNumber.d98413fa.js";import"./numbers.9fc174f3.js";import"./Loading.39bca920.js";import"./vue-router.97a610ed.js";import"./license.78a670ff.js";import"./upperFirst.3f8e52b4.js";/* empty css             */import"./Index.504e4ac6.js";import"./Header.a21e6630.js";import"./addons.edaa5cfa.js";import"./ScrollAndHighlight.1dc41d57.js";import"./LicenseKeyBar.2957dfa4.js";import"./LogoGear.f647d614.js";import"./Logo.bc3c9602.js";import"./Support.9f4ef430.js";import"./date.b84c8300.js";import"./datetime.f197aeae.js";import"./Exclamation.fb1e454f.js";import"./Analyze.7ac15f41.js";import"./Index.4c34b46f.js";import"./Book.6b29a263.js";import"./Lab.a91aaa7d.js";import"./ProBadge.e183057c.js";import"./Download.e8bdbc9a.js";import"./Row.29b591ed.js";import"./List.4ecdbe60.js";const Ce={__name:"Badge",props:{color:{type:String,default:"black",description:"Badge color(green|red|orange|black)"},text:{type:[String,Number],default:"",description:"Badge text"}},setup(k){return(o,i)=>(s(),g("span",{class:F(["aioseo-badge round",k.color])},d(k.text),3))}},Te=I(Ce,[["__scopeId","data-v-64238476"]]),$e={key:0,class:"aioseo-seo-analysis-post-status-badge"},we={__name:"PostStatusBadge",props:{status:{type:String,required:!0}},setup(k){const o="all-in-one-seo-pack",i=k,l={tooltip:n("The results for this post may be inaccurate or vary slightly until the post is published.",o)},b=O(()=>i.status==="future"?n("Scheduled",o):i.status.toUpperCase());return(c,u)=>["draft","private","pending","future"].includes(i.status)?(s(),g("div",$e,[h(e(z),null,{tooltip:a(()=>[y("span",null,d(l.tooltip),1)]),default:a(()=>[y("span",{class:F(["aioseo-seo-analysis-post-status-badge__status",i.status])},[T(d(b.value)+" ",1),h(e(ye))],2)]),_:1})])):_("",!0)}},Ie=I(we,[["__scopeId","data-v-d5a4d223"]]),Le={class:"aioseo-seo-site-analysis-url-details"},Ue={key:0,class:"result-body"},Pe={class:"result-body-loading"},Be={key:1,class:"aioseo-seo-site-analysis-url-details-results"},Ke={class:"title"},Re={key:0,class:"aioseo-seo-site-analysis-url-details-results__row-actions"},ze=["href"],Oe={target:"_blank",class:"aioseo-button disabled black small"},De=["onClick"],Fe={target:"_blank",class:"aioseo-button disabled black small"},Y="aioseo-seo-analysis-issues-posts-report-wp-table",qe={__name:"SiteAuditUrlDetails",props:{result:{type:Object,required:!0}},setup(k){const o="aioseo-pro",i=k,l=E(),b=M(null),c={fixActionText:n("Fix",o),fixActionTooltipText:n("You don't have the required permission to fix this issue.",o),ignoreActionText:n("Ignore",o),ignoreActionTooltipText:n("You don't have the required permission to ignore this issue.",o)},u=`${i.result.id}-${i.result.type.toLowerCase()}`,{pageNumber:A,processFilterTable:$,processSearch:C,searchTerm:D,wpTableKey:B,wpTableLoading:K}=J({fetchData:l.fetchIssuesByObject,resultsPerPage:l.resultsperPage,tableId:Y,tableRef:b.value}),v=O(()=>[{slug:"icon",label:"",width:"44px"},{slug:"title",label:n("Issues",o),width:"100%"},{slug:"actions",label:"",width:"180px"}]);function p(m){var S;return(S=q.strings[m.code])==null?void 0:S.title}function t(m){var S;return(S=q.strings[m.code])==null?void 0:S.description}function x(m){var w,r;if(!["author-bio-missing","author-bio-ok"].includes(m.code))return m.fixLink+(((w=q.strings[m.code])==null?void 0:w.fixActionParams)||"");const U=m.fixLink.includes("profile.php")?"?":"&";return m.fixLink+U+(((r=q.strings[m.code])==null?void 0:r.fixActionParams)||"")}function L(m){C(m)}function R(m,S){l.doIgnoreIssue(m,S),(m==null?void 0:m.status)==="error"&&(i.result.count=i.result.count-1)}return me(()=>{$({slug:i.result})}),(m,S)=>{var U,w;return s(),g("div",Le,[(U=e(l))!=null&&U.allUrlsResults.auditItemResults[u]?_("",!0):(s(),g("div",Ue,[y("div",Pe,[h(e(ge))])])),(w=e(l))!=null&&w.allUrlsResults.auditItemResults[u]?(s(),g("div",Be,[(s(),f(e(se),{ref_key:"table",ref:b,class:"posts-table",id:Y,columns:v.value,"initial-page-number":e(A),"initial-search-term":e(D),"show-bulk-actions":!1,"show-pagination":!1,key:e(B),loading:e(K),rows:e(l).allUrlsResults.auditItemResults[u].rows,totals:e(l).allUrlsResults.auditItemResults[u].totals,"hide-top-pagination":!0,onSearch:L,"show-search":!1},{icon:a(({row:r})=>[y("div",{class:F(["aioseo-seo-site-analysis-url-details-results__result-icon",`${r.status}-status`])},[r.status==="passed"?(s(),f(e(oe),{key:0})):r.status==="error"?(s(),f(e(fe),{key:1})):r.status==="warning"?(s(),f(e(he),{key:2})):(s(),f(e(ke),{key:3}))],2)]),title:a(({row:r})=>{var j;return[y("div",Ke,[T(d(p(r))+" ",1),(j=t(r))!=null&&j.length&&(r==null?void 0:r.status)!=="passed"?(s(),f(e(z),{key:0},{tooltip:a(()=>[T(d(t(r)),1)]),default:a(()=>[h(e(ae))]),_:2},1024)):_("",!0)])]}),actions:a(({row:r})=>[(r==null?void 0:r.status)!=="passed"?(s(),g("div",Re,[r.fixLink?(s(),g("a",{key:0,href:x(r),target:"_blank",class:"aioseo-button blue small"},d(c.fixActionText),9,ze)):_("",!0),r.fixLink?_("",!0):(s(),f(e(z),{key:1},{tooltip:a(()=>[T(d(c.fixActionTooltipText),1)]),default:a(()=>[y("a",Oe,d(c.fixActionText),1)]),_:1})),r.fixLink?(s(),g("button",{key:2,type:"button",class:"aioseo-button gray small",onClick:j=>R(r,e(l).allUrlsResults.auditItemResults[u])},d(c.ignoreActionText),9,De)):_("",!0),r.fixLink?_("",!0):(s(),f(e(z),{key:3},{tooltip:a(()=>[T(d(c.ignoreActionTooltipText),1)]),default:a(()=>[y("a",Fe,d(c.ignoreActionText),1)]),_:1}))])):_("",!0)]),_:1},8,["columns","initial-page-number","initial-search-term","loading","rows","totals"]))])):_("",!0)])}}},Me=I(qe,[["__scopeId","data-v-134ae51c"]]),Ne=["id"],Ee={key:0},je={key:1},He={class:"disabled"},Ge={key:2,class:"aioseo-seo-site-analysis-all-urls-results__keyword-input"},Ve={class:"actions"},We={__name:"SiteAuditUrlKeywordCell",props:{row:{type:Object,required:!0}},emits:["keywordAdded"],setup(k,{emit:o}){const i="aioseo-pro",l=E(),b=o,c=k,u=O(()=>c.row),A=M(!1),$=M(!1),C={addKeyphrase:n("Add Focus Keyword",i),cancel:n("Cancel",i),add:n("Add",i),addKeyphraseTooltipText:n("You don't have the required permission.",i)};async function D(v){$.value=!0;const t=document.getElementById(`keyword-${v.id}`).querySelector(".add-focus-keyphrase-metabox-input .medium"),x=t==null?void 0:t.value.trim();if(!x){$.value=!1;return}const L={keyphrase:x,score:0,analysis:{}};l.doAddFocusKeyword(v.id,L).then(()=>{v.keyphrases.focus=L,t.value="",t.blur()}).catch(R=>{console.error(R)}).finally(()=>{$.value=!1,b("keywordAdded")})}function B(v){v.preventDefault(),A.value=!0;const p=document.getElementById(`keyword-${u.value.id}`);setTimeout(()=>{const t=p==null?void 0:p.querySelector(".add-focus-keyphrase-metabox-input input");t==null||t.focus()},100)}function K(v,p){const x=document.getElementById(`keyword-${p}`).querySelector(".add-keyphrase");v.preventDefault(),x.click()}return(v,p)=>{var L,R,m,S,U,w;const t=N("base-input"),x=N("base-button");return u.value.isTruSeoEligible?(s(),g("div",{key:0,id:`keyword-${u.value.id}`,class:"aioseo-seo-site-analysis-all-urls-results__keyword"},[(m=(R=(L=u.value)==null?void 0:L.keyphrases)==null?void 0:R.focus)!=null&&m.keyphrase?(s(),g("span",Ee,d(u.value.keyphrases.focus.keyphrase),1)):e(be)("aioseo_page_analysis")?(s(),g("div",je,[(S=u.value)!=null&&S.fixLink?_("",!0):(s(),f(e(z),{key:0,placement:"bottom"},{tooltip:a(()=>[T(d(C.addKeyphraseTooltipText),1)]),default:a(()=>[y("span",He,d(C.addKeyphrase),1)]),_:1})),!A.value&&((U=u.value)!=null&&U.fixLink)?(s(),g("a",{key:1,href:"",onClick:B},d(C.addKeyphrase),1)):_("",!0),A.value&&((w=u.value)!=null&&w.fixLink)?(s(),g("div",Ge,[h(t,{size:"medium",class:"add-focus-keyphrase-metabox-input",onKeydown:[p[0]||(p[0]=W(r=>K(r,u.value.id),["enter"])),p[1]||(p[1]=W(r=>A.value=!1,["esc"]))]}),y("div",Ve,[h(x,{class:"cancel-add-keyphrase gray small",onClick:p[2]||(p[2]=r=>A.value=!1)},{default:a(()=>[T(d(C.cancel),1)]),_:1}),h(x,{class:"add-keyphrase blue small",loading:$.value,onClick:p[3]||(p[3]=r=>D(u.value))},{default:a(()=>[T(d(C.add),1)]),_:1},8,["loading"])])])):_("",!0)])):_("",!0)],8,Ne)):_("",!0)}}},Ye={class:"aioseo-seo-site-analysis-all-urls-results"},Qe={class:"aioseo-seo-site-analysis-all-urls-results__result-count"},Xe={class:"aioseo-seo-site-analysis-all-urls-results__object-title"},Ze={type:"button"},Je=["innerHTML"],et={key:0,class:"row-actions"},tt={key:0},st=["href"],ot={class:"aioseo-seo-site-analysis-all-urls-results__result-toggle"},Q="aioseo-seo-analysis-all-urls-wp-table",at={__name:"SiteAuditAllUrlsTable",setup(k){const o="all-in-one-seo-pack",i=E(),l=ne(),b=M(null),c={viewObject:n("View",o)},{pageNumber:u,searchTerm:A,wpTableKey:$,wpTableLoading:C}=J({changeItemsPerPageSlug:"seoAnalysis",fetchData:i.fetchAllUrls,tableId:Q,tableRef:b.value}),D=O(()=>[{slug:"count",label:"",width:"50px"},{slug:"title",label:n("Title",o),width:"100%"},{slug:"keyword",label:n("Focus Keyword",o),width:"100%"},{slug:"toggle_issues",label:"",width:"50px"}]),B=v=>{var p,t;return(p=v.counts)!=null&&p.error?"red":(t=v.counts)!=null&&t.warning?"orange":"green"},K=v=>{var p,t;return((p=v.counts)==null?void 0:p.error)||((t=v.counts)==null?void 0:t.warning)||0};return(v,p)=>(s(),g("div",Ye,[(s(),f(e(se),{ref:"seoAnalysisAllUrlsTable",class:"posts-table",id:Q,columns:D.value,"initial-page-number":e(u),"initial-search-term":e(A),"initial-items-per-page":e(l).settings.tablePagination.seoAnalysis,showBulkActions:!1,"show-items-per-page":"",key:e($),loading:e(C),rows:e(i).allUrlsResults.rows,totals:e(i).allUrlsResults.totals},{"edit-row":a(({row:t})=>[t!=null&&t.needsRefresh?_("",!0):(s(),f(e(Me),{key:0,result:t},null,8,["result"]))]),count:a(({row:t})=>[y("div",Qe,[K(t)?(s(),f(e(Te),{key:0,color:B(t),text:K(t)},null,8,["color","text"])):(s(),g("span",{key:1,class:F(["icon",B(t)])},[h(e(oe))],2))])]),title:a(({row:t})=>[y("div",Xe,[y("button",Ze,[y("span",{innerHTML:e(ie)(t.title)},null,8,Je)]),t.status?(s(),f(e(Ie),{key:0,status:t.status},null,8,["status"])):_("",!0)]),t.permalink?(s(),g("div",et,[t.permalink?(s(),g("span",tt,[y("a",{class:"view",href:t.permalink,target:"_blank",rel:"noopener noreferrer"},[y("span",null,d(c.viewObject)+" "+d(t.subtype.label),1)],8,st)])):_("",!0)])):_("",!0)]),keyword:a(({row:t})=>[(s(),f(e(We),{key:t.id,row:t,onKeywordAdded:x=>v.keywordAdded(t)},null,8,["row","onKeywordAdded"]))]),toggle_issues:a(()=>[y("div",ot,[h(e(ve))])]),_:1},8,["columns","initial-page-number","initial-search-term","initial-items-per-page","loading","rows","totals"]))]))}},nt={key:1,class:"label"},it={__name:"SiteAuditGlobalTab",setup(k){const o="all-in-one-seo-pack",i=O(()=>[{slug:"all-urls",label:n("All URLs",o),name:n("All URLs",o)},{slug:"all-checks",label:n("All Checks",o),name:n("All Checks",o)},{slug:"settings-audit",label:n("Settings",o),name:n("Settings",o)}]);return(l,b)=>(s(),g("div",null,[h(e(pe),{tabs:i.value,showSaveButton:!1,active:"all-urls",internal:"","skinny-tabs":""},{"var-tab":a(({tab:c})=>{var u;return[c!=null&&c.analyze?(s(),g("span",{key:0,class:F(["icon",(u=c==null?void 0:c.analyze)==null?void 0:u.classColor])},[(s(),f(ee(c.icon)))],2)):_("",!0),c!=null&&c.analyze?(s(),g("span",nt,d(c.label)+" ("+d(c.analyze.count||0)+") ",1)):_("",!0)]}),_:1},8,["tabs"]),h(e(at),{section:"all-urls"})]))}},rt=I(it,[["__scopeId","data-v-54a2b11f"]]),lt={class:"aioseo-seo-audit-checklist"},ct=["innerHTML"],ut={__name:"SeoSiteAuditUnlicensed",setup(k){const o="all-in-one-seo-pack",i=H(),l={completeSeoChecklist:n("Site Audit Report",o),cardDescription:n("These are the results our SEO Analzyer has generated after analyzing the pages of your website.",o)+" "+X.getDocLink(ue.learnMore,"seoAnalyzer",!0),siteOverview:n("Site Overview",o),totalPostsLabel:n("Total Checks",o),connectWithAioseo:te(n("Connect with %1$s",o),"AIOSEO")},b=O(()=>Se({good:50,warnings:30,issues:20,total:100}));return(c,u)=>(s(),g("div",lt,[h(e(G),null,{default:a(()=>[h(e(V),{slug:"connectOrScore","no-slide":"",toggles:!1},{header:a(()=>[y("span",null,d(l.siteOverview),1)]),default:a(()=>[h(e(de),{parts:b.value,total:100,label:l.totalPostsLabel,animatedNumber:!1},null,8,["parts","label"])]),_:1})]),_:1}),e(i).isPro?_("",!0):(s(),f(e(G),{key:0},{default:a(()=>[h(e(V),{slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:a(()=>[y("span",null,d(l.completeSeoChecklist),1),h(e(z),null,{tooltip:a(()=>[y("span",{innerHTML:l.cardDescription},null,8,ct)]),default:a(()=>[h(e(ae))]),_:1})]),default:a(()=>[h(e(rt))]),_:1})]),_:1})),_e(c.$slots,"upsell",{},void 0,!0)]))}},dt=I(ut,[["__scopeId","data-v-a580ad02"]]),P="all-in-one-seo-pack",pt={setup(){return{licenseStore:Z(),rootStore:H(),links:X}},components:{Cta:xe},props:{parentComponentContext:String},data(){return{strings:{ctaHeader:te(n("Site Audit is a %1$s Feature",P),"PRO"),ctaDescription:n("Discover which posts and terms on your site are facing common SEO issues so you can quickly resolve them in order to get your content back on track.",P),ctaFeatures:[n("Meta Tag Validation",P),n("Keyword Cannibilization",P),n("Focus Keyword Analysis",P),n("Content Analysis",P)],ctaButtonText:n("Unlock Site Audit",P)}}}},mt={class:"upsell-header-text"};function _t(k,o,i,l,b,c){const u=N("cta");return s(),f(u,{"cta-link":l.links.getPricingUrl("seo-analysis","site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"button-text":b.strings.ctaButtonText,"learn-more-link":l.links.getUpsellUrl("site-audit",i.parentComponentContext,l.rootStore.isPro?"pricing":"liteUpgrade"),"feature-list":b.strings.ctaFeatures,"hide-bonus":!l.licenseStore.isUnlicensed},{"header-text":a(()=>[y("span",mt,d(b.strings.ctaHeader),1)]),description:a(()=>[T(d(b.strings.ctaDescription),1)]),_:1},8,["cta-link","button-text","learn-more-link","feature-list","hide-bonus"])}const yt=I(pt,[["render",_t],["__scopeId","data-v-a33f2ad8"]]),gt={class:"aioseo-seo-analysis__global-site-audit"},ft={__name:"SeoSiteAudit",setup(k){return(o,i)=>(s(),f(e(dt),null,{upsell:a(()=>[y("div",gt,[h(e(yt),{"parent-component-context":"modal"})])]),_:1}))}},ht=I(ft,[["__scopeId","data-v-a8edb80d"]]),kt="all-in-one-seo-pack",bt={setup(){const k=H(),o=Z(),i=E();return{rootStore:k,licenseStore:o,analyzerStore:i}},components:{AnalyzeCompetitorSite:re,CoreMain:le,SeoHomepageAudit:ce,SeoSiteAudit:ht,HeadlineAnalyzer:Ae},data(){return{strings:{pageName:n("SEO Analysis",kt)}}},mounted(){this.rootStore.isPro&&!this.licenseStore.isUnlicensed&&this.analyzerStore.objectsScan.percent!==100&&this.analyzerStore.fetchObjectsScanPercent()}};function vt(k,o,i,l,b,c){const u=N("core-main");return s(),f(u,{"page-name":b.strings.pageName,"show-save-button":k.$route.name==="seo-site-audit"&&l.analyzerStore.activeTab==="settings-audit"},{default:a(()=>[(s(),f(ee(k.$route.name)))]),_:1},8,["page-name","show-save-button"])}const Os=I(bt,[["render",vt]]);export{Os as default};
